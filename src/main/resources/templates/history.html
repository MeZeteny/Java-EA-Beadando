<!DOCTYPE HTML>
<!--
	Telephasic by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
<head>
    <title>Java EA beadandó</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="../assets/css/main.css" />
</head>
<body class="homepage is-preload">
<div id="page-wrapper">

    <!-- Header -->
    <div id="header-wrapper">
        <div id="header" class="container">

            <!-- Logo -->
            <h1 id="logo"><a th:href="@{/index}">Forex beadandó</a></h1>

            <!-- Nav -->
            <nav id="nav">
                <ul>
                    <li><a th:href="@{/index}">Főoldal</a></li>
                    <li>
                        <a th:href="@{/soap}">SOAP</a>
                    </li>
                    <li><a th:href="@{/account}">Forex-account</a></li>
                    <li><a th:href="@{/aktar}">Forex-AktÁr</a></li>
                    <li class="break"><a th:href="@{/history}">Forex-HistÁr</a></li>
                    <li><a th:href="@{/open}">Forex-Nyit</a></li>
                    <li><a th:href="@{/positions}">Forex-Poz</a></li>
                    <li><a href="">Forex-Zár</a></li>
                </ul>
            </nav>

        </div>

        <!-- Hero -->
        <section id="hero" class="container">
            <header>
                <h2>Forex Történelmi Árak (10 utolsó gyertya)</h2>
            </header>

            <form id="histForm" th:action="@{/history}" method="get">
                <label>
                    Instrumentum:
                    <select name="instrument" onchange="validateAndSubmit()">
                        <option value="">-- Válassz --</option>
                        <option th:each="inst : ${instruments}"
                                th:value="${inst}"
                                th:text="${inst}"
                                th:selected="${inst == selectedInst}"></option>
                    </select>
                </label>
                &nbsp;
                <label>
                    Időintervallum:
                    <select name="granularity" onchange="validateAndSubmit()">
                        <option value="">-- Válassz --</option>
                        <option th:each="g : ${granularities}"
                                th:value="${g}"
                                th:text="${g}"
                                th:selected="${g == selectedGran}"></option>
                    </select>
                </label>
            </form>

            <script>
                function validateAndSubmit() {
                    const instrument = document.querySelector('select[name="instrument"]').value;
                    const granularity = document.querySelector('select[name="granularity"]').value;

                    if (instrument && granularity) {
                        document.getElementById('histForm').submit();
                    }
                }
            </script>

            <!-- ADATOK CSAK HA VAN KÉSZ VÁLASZ -->
            <div th:if="${candles != null && !candles.isEmpty()}">
                <h3 th:text="${selectedInst} + ' – ' + ${selectedGran}">EUR_USD – D</h3>
                <table border="1" style="margin-top:10px; border-collapse: collapse; width: 100%;">
                    <tr>
                        <th>Időpont</th>
                        <th>Open</th>
                        <th>High</th>
                        <th>Low</th>
                        <th>Close</th>
                    </tr>
                    <tr th:each="c : ${candles}">
                        <td th:text="${c.time}"></td>
                        <td th:text="${c.mid.o}"></td>
                        <td th:text="${c.mid.h}"></td>
                        <td th:text="${c.mid.l}"></td>
                        <td th:text="${c.mid.c}"></td>
                    </tr>
                </table>
            </div>

            <!-- HIBAÜZENET -->
            <div th:if="${error}" style="color:red; margin-top: 20px;" th:text="${error}"></div>

            <!-- HA MÉG NEM VÁLASZTOTT KI SEMMIT -->
            <div th:if="${selectedInst == null || selectedGran == null}" style="color: #666; margin-top: 20px;">
                <p>Válassz instrumentumot és időintervallumot!</p>
            </div>

            <hr>
            <a th:href="@{/}">Vissza a főoldalra</a>
        </section>

    </div>


    <!-- Footer -->
    <div id="footer-wrapper">
        <div id="footer" class="container">
            <header class="major">
                <h2>Euismod aliquam vehicula lorem</h2>
                <p>Lorem ipsum dolor sit amet consectetur et sed adipiscing elit. Curabitur vel sem sit<br />
                    dolor neque semper magna lorem ipsum feugiat veroeros lorem ipsum dolore.</p>
            </header>
            <div class="row">
                <section class="col-6 col-12-narrower">
                    <form method="post" action="#">
                        <div class="row gtr-50">
                            <div class="col-6 col-12-mobile">
                                <input name="name" placeholder="Name" type="text" />
                            </div>
                            <div class="col-6 col-12-mobile">
                                <input name="email" placeholder="Email" type="text" />
                            </div>
                            <div class="col-12">
                                <textarea name="message" placeholder="Message"></textarea>
                            </div>
                            <div class="col-12">
                                <ul class="actions">
                                    <li><input type="submit" value="Send Message" /></li>
                                    <li><input type="reset" value="Clear form" /></li>
                                </ul>
                            </div>
                        </div>
                    </form>
                </section>
                <section class="col-6 col-12-narrower">
                    <div class="row gtr-0">
                        <ul class="divided icons col-6 col-12-mobile">
                            <li class="icon brands fa-twitter"><a href="#"><span class="extra">twitter.com/</span>untitled</a></li>
                            <li class="icon brands fa-facebook-f"><a href="#"><span class="extra">facebook.com/</span>untitled</a></li>
                            <li class="icon brands fa-dribbble"><a href="#"><span class="extra">dribbble.com/</span>untitled</a></li>
                        </ul>
                        <ul class="divided icons col-6 col-12-mobile">
                            <li class="icon brands fa-instagram"><a href="#"><span class="extra">instagram.com/</span>untitled</a></li>
                            <li class="icon brands fa-youtube"><a href="#"><span class="extra">youtube.com/</span>untitled</a></li>
                            <li class="icon brands fa-pinterest"><a href="#"><span class="extra">pinterest.com/</span>untitled</a></li>
                        </ul>
                    </div>
                </section>
            </div>
        </div>
        <div id="copyright" class="container">
            <ul class="menu">
                <li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
            </ul>
        </div>
    </div>

</div>

<!-- Scripts -->
<script th:src="@{/js/jquery.min.js}"></script>
<script src="../static/assets/js/jquery.dropotron.min.js"></script>
<script src="../static/assets/js/browser.min.js"></script>
<script src="../static/assets/js/breakpoints.min.js"></script>
<script src="../static/assets/js/util.js"></script>
<script src="../static/assets/js/main.js"></script>

</body>
</html>